<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Lieven Clement and Jeroen Gilis" />


<title>Exercise 9.2: Non-parametric statistics on the lettuce dataset</title>

<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<script src="site_libs/navigation-1.1/sourceembed.js"></script>
<script src="site_libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>


<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */

.sourceCode .row {
  width: 100%;
}
.sourceCode {
  overflow-x: auto;
}
.code-folding-btn {
  margin-right: -30px;
}
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>


<style type="text/css">
#rmd-source-code {
  display: none;
}
</style>


<link rel="stylesheet" href="style.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">PSLS21</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-chalkboard-teacher"></span>
     
    Lectures
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="01-intro.html">1. Introduction</a>
    </li>
    <li>
      <a href="02-concepts.html">2. Concepts</a>
    </li>
    <li>
      <a href="03-experimentalDesign.html">3. Experimental Design I</a>
    </li>
    <li>
      <a href="04-dataExploration.html">4. Data Exploration</a>
    </li>
    <li>
      <a href="05-statisticalInference.html">5.1 Statistical Inference 1</a>
    </li>
    <li>
      <a href="05-statisticalInference-twosampleT.html">5.2 Statistical Inference 2</a>
    </li>
    <li>
      <a href="06-linearRegression.html">6. Linear Regression</a>
    </li>
    <li>
      <a href="07-Anova.html">7. Analysis of Variance</a>
    </li>
    <li>
      <a href="08-MultipleRegression.html">8. Multiple Regression</a>
    </li>
    <li>
      <a href="08-MultipleRegression-SpecificDesigns.html">8.2 Multiple Regression: Factorial Designs</a>
    </li>
    <li>
      <a href="08-experimentalDesignII.html">8.3. Experimental Design II</a>
    </li>
    <li>
      <a href="08-experimentalDesignIII.html">8.4. Experimental Design II</a>
    </li>
    <li>
      <a href="09-NonparametericStatistics-WilcoxonMannWithney.html">9.1. Nonparametric Statistics 1</a>
    </li>
    <li>
      <a href="09-NonparametericStatistics-KruskalWallis.html">9.2. Nonparametric Statistics 2</a>
    </li>
    <li>
      <a href="10-categoricalDataAnalysis.html">10. Categorical Data Analysis</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-laptop"></span>
     
    Labs
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="04_exercises.html">4. Data Exploration</a>
    </li>
    <li>
      <a href="05_exercises.html">5. Statistical inference</a>
    </li>
    <li>
      <a href="06_exercises.html">6. Simple linear regression</a>
    </li>
    <li>
      <a href="07_exercises.html">7. ANOVA</a>
    </li>
    <li>
      <a href="08_exercises.html">8. Multiple linear regression</a>
    </li>
    <li>
      <a href="09_exercises.html">9. Non-parametric statistics</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/statOmics/PSLS21">
    <span class="fab fa-github"></span>
     
  </a>
</li>
<li>
  <a href="http://statomics.github.io/">statOmics</a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
<li role="separator" class="divider"></li>
<li><a id="rmd-download-source" href="#">Download Rmd</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Exercise 9.2: Non-parametric statistics on the lettuce dataset</h1>
<h4 class="author">Lieven Clement and Jeroen Gilis</h4>
<h4 class="date">statOmics, Ghent University (<a href="https://statomics.github.io" class="uri">https://statomics.github.io</a>)</h4>

</div>


<div id="the-lettuce-dataset" class="section level1">
<h1><span class="header-section-number">1</span> The lettuce dataset</h1>
<p>In a previous tutorial, we analysed the dataset on lettuce plants using ANOVA. However, it was not clear if all the assumptions of ANOVA were met. Indeed, with only 7 datapoints per group, it is very hard to assess the assumptions of normality and equal variances.</p>
<p>Therefore, we will re-analyse the dataset by using the non-parametric alternative to ANOVA, the <code>Kruskal-Wallis test</code>. We will first give a concise overview of what we saw in the ANOVA analysis, which can be found in the <code>ANOVA_lettuce_plants.Rmd</code> file.</p>
<p>The researchers want to find out if biochar, compost and a combination of both biochar and compost have an influence on the growth of lettuce plants. To this end, they grew up lettuce plants in a greenhouse. The pots were filled with one of four soil types;</p>
<ol style="list-style-type: decimal">
<li>Soil only (control)</li>
<li>Soil supplemented with biochar (refoak)</li>
<li>Soil supplemented with compost (compost)</li>
<li>Soil supplemented with both biochar and compost (cobc)</li>
</ol>
<p>The dataset <code>freshweight_lettuce.txt</code> contains the freshweight (in grams) for 28 lettuce plants (7 per condition).</p>
<p>Load the required libraries</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="kw">library</span>(car)</span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="kw">library</span>(coin)</span></code></pre></div>
</div>
<div id="data-import" class="section level1">
<h1><span class="header-section-number">2</span> Data import</h1>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>lettuce &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;https://raw.githubusercontent.com/statOmics/PSLS21/data/freshweight_lettuce.txt&quot;</span>)</span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="co"># Take a glimpse at the data</span></span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="kw">glimpse</span>(lettuce)</span></code></pre></div>
<pre><code>## Rows: 28
## Columns: 3
## $ id          &lt;dbl&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17,…
## $ treatment   &lt;chr&gt; &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;control&quot;, &quot;co…
## $ freshweight &lt;dbl&gt; 38, 34, 41, 43, 43, 29, 38, 59, 64, 57, 56, 50, 64, 62, 38…</code></pre>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="co"># treatment to factor</span></span>
<span id="cb4-2"><a href="#cb4-2"></a>lettuce &lt;-<span class="st"> </span>lettuce <span class="op">%&gt;%</span></span>
<span id="cb4-3"><a href="#cb4-3"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">treatment =</span> <span class="kw">as.factor</span>(treatment))</span></code></pre></div>
</div>
<div id="data-exploration" class="section level1">
<h1><span class="header-section-number">3</span> Data exploration</h1>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="co"># Count the number of observations per treatment</span></span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="kw">table</span>(lettuce<span class="op">$</span>treatment)</span></code></pre></div>
<pre><code>## 
##    cobc compost control  refoak 
##       7       7       7       7</code></pre>
<p>Now let’s make a boxplot displaying the freshweight of each treatment condition:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>lettuce <span class="op">%&gt;%</span></span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x=</span>treatment,<span class="dt">y=</span>freshweight,<span class="dt">fill=</span>treatment)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb7-3"><a href="#cb7-3"></a><span class="st">    </span><span class="kw">scale_fill_brewer</span>(<span class="dt">palette=</span><span class="st">&quot;RdGy&quot;</span>) <span class="op">+</span></span>
<span id="cb7-4"><a href="#cb7-4"></a><span class="st">    </span><span class="kw">theme_bw</span>() <span class="op">+</span></span>
<span id="cb7-5"><a href="#cb7-5"></a><span class="st">    </span><span class="kw">geom_boxplot</span>(<span class="dt">outlier.shape=</span><span class="ot">NA</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb7-6"><a href="#cb7-6"></a><span class="st">    </span><span class="kw">geom_jitter</span>(<span class="dt">width =</span> <span class="fl">0.2</span>) <span class="op">+</span></span>
<span id="cb7-7"><a href="#cb7-7"></a><span class="st">    </span><span class="kw">ggtitle</span>(<span class="st">&quot;Boxplot of the freshweigth for each treatment condition&quot;</span>) <span class="op">+</span></span>
<span id="cb7-8"><a href="#cb7-8"></a><span class="st">    </span><span class="kw">ylab</span>(<span class="st">&quot;freshweight (gram)&quot;</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb7-9"><a href="#cb7-9"></a><span class="st">    </span><span class="kw">stat_summary</span>(<span class="dt">fun=</span>mean, <span class="dt">geom=</span><span class="st">&quot;point&quot;</span>, <span class="dt">shape=</span><span class="dv">5</span>, <span class="dt">size=</span><span class="dv">3</span>, <span class="dt">color=</span><span class="st">&quot;black&quot;</span>, <span class="dt">fill=</span><span class="st">&quot;black&quot;</span>)</span></code></pre></div>
<p><img src="09_2_lettuce_sol_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<p>Note that there are no clear outliers in the data. We can see that the mean freshweight is very comparable between the control and refoak treatments and between the compost and cobc treatments. We can also see that the mean freshweight is much higher in the cobc and control treatments than in the control and refoak treatments. But is this observed difference significant?</p>
</div>
<div id="anova" class="section level1">
<h1><span class="header-section-number">4</span> ANOVA</h1>
<p>To study whether or not the observed difference between the average freshweight values of the differentt treatment groups are significant, we may perform an ANOVA.</p>
<div id="hypotheses" class="section level2">
<h2><span class="header-section-number">4.1</span> Hypotheses</h2>
<p>The null hypothesis of ANOVA states that: The mean freshweigth is equal between the different treatment groups.</p>
<p>The alternative hypothesis of ANOVA states that: The mean freshweigth for at least one treatment group is different than the mean freshweight in at least one other treatment group.</p>
</div>
<div id="checking-the-assumptions-of-anova" class="section level2">
<h2><span class="header-section-number">4.2</span> Checking the assumptions of ANOVA</h2>
<p>Before we may proceed with the analysis, we must make sure that all assumptions for ANOVA are met. ANOVA has three assumptions:</p>
<ol style="list-style-type: decimal">
<li>The observations are independent of each other (in all groups)</li>
<li>The data (freshweigth) must be normally distributed (in all groups)</li>
<li>The variability within all groups is similar</li>
</ol>
<div id="assumption-of-independence" class="section level3">
<h3><span class="header-section-number">4.2.1</span> Assumption of independence</h3>
<p>The first assumption is met; we started of with 28 lettuce plants and we randomly submitted them to one of four treatment conditions. There is no reason to believe that the plants display systematic differences between ttreatment groups, other than the actual treatment.</p>
</div>
<div id="assumption-of-normality" class="section level3">
<h3><span class="header-section-number">4.2.2</span> Assumption of normality</h3>
<p>For the second assumption, we must check normality in each group.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="co">## get qqplots for each individual treatment group</span></span>
<span id="cb8-2"><a href="#cb8-2"></a><span class="kw">par</span>(<span class="dt">mfrow =</span> <span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">2</span>))</span>
<span id="cb8-3"><a href="#cb8-3"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="kw">levels</span>(lettuce<span class="op">$</span>treatment)){</span>
<span id="cb8-4"><a href="#cb8-4"></a>  <span class="kw">qqPlot</span>(<span class="kw">subset</span>(lettuce,treatment <span class="op">==</span><span class="st"> </span>i)<span class="op">$</span>freshweight, <span class="dt">main =</span> i, <span class="dt">ylab =</span> <span class="st">&quot;&quot;</span>)</span>
<span id="cb8-5"><a href="#cb8-5"></a>}</span></code></pre></div>
<p><img src="09_2_lettuce_sol_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<p>While in the <code>ANOVA_lettuce_plants.Rmd</code> file we accepted the assumption of normality, it must be noted that it is tricky to assess the assumption with only 7 datapoints. See <code>ANOVA_lettuce_plants.Rmd</code>"` for more details on this.</p>
<p><strong>Let’s say that here we decide not to assume normality.</strong></p>
</div>
<div id="assumption-of-equal-variances" class="section level3">
<h3><span class="header-section-number">4.2.3</span> Assumption of equal variances</h3>
<p>We can check the assumption of equal variance with a boxplot:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a>lettuce <span class="op">%&gt;%</span></span>
<span id="cb9-2"><a href="#cb9-2"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x=</span>treatment,<span class="dt">y=</span>freshweight,<span class="dt">fill=</span>treatment)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb9-3"><a href="#cb9-3"></a><span class="st">  </span><span class="kw">scale_fill_brewer</span>(<span class="dt">palette=</span><span class="st">&quot;RdGy&quot;</span>) <span class="op">+</span></span>
<span id="cb9-4"><a href="#cb9-4"></a><span class="st">  </span><span class="kw">theme_bw</span>() <span class="op">+</span></span>
<span id="cb9-5"><a href="#cb9-5"></a><span class="st">  </span><span class="kw">geom_boxplot</span>(<span class="dt">outlier.shape=</span><span class="ot">NA</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb9-6"><a href="#cb9-6"></a><span class="st">  </span><span class="kw">geom_jitter</span>(<span class="dt">width =</span> <span class="fl">0.2</span>) <span class="op">+</span></span>
<span id="cb9-7"><a href="#cb9-7"></a><span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">&quot;Boxplot of the freshweigth for each treatment condition&quot;</span>) <span class="op">+</span></span>
<span id="cb9-8"><a href="#cb9-8"></a><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&quot;freshweight (gram)&quot;</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb9-9"><a href="#cb9-9"></a><span class="st">  </span><span class="kw">stat_summary</span>(<span class="dt">fun=</span>mean, <span class="dt">geom=</span><span class="st">&quot;point&quot;</span>, <span class="dt">shape=</span><span class="dv">5</span>, <span class="dt">size=</span><span class="dv">3</span>, <span class="dt">color=</span><span class="st">&quot;black&quot;</span>, <span class="dt">fill=</span><span class="st">&quot;black&quot;</span>)</span></code></pre></div>
<p><img src="09_2_lettuce_sol_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<p>As a measure of variability, we may take the height of each boxplot’s box. This is the interval between the 25% and 75% quantile. Here we can see that this interval, as well as the length of the whiskers, is approximately equal for most groups. However, the variability of cobc does seem to be quite a bit larger than the variability in the refoak group.</p>
<p><strong>While we accepted the assumption of equal variances in the</strong> <strong><code>ANOVA_lettuce_plants.Rmd</code> file, we will here reject the</strong> <strong>assumption.</strong></p>
<p>Not all assumptions for ANOVA are met. As such, we will rely on the non-parametric alternative of ANOVA: the Kruskal-Wallis test.</p>
</div>
</div>
</div>
<div id="kruskal-wallis-rank-test" class="section level1">
<h1><span class="header-section-number">5</span> Kruskal-Wallis rank test</h1>
<p>If we want to test for a difference in the median of the different treatment groups, we have to <strong>assume a location shift</strong>, saying that all treatment groups follow the same distribution, but with a different median.</p>
<p>However, here, we might be <strong>not prepared for taking this assumption</strong>. While the range and spread of the data is similar for most groups (see boxplot), there is a quite a big difference between the IQR of the refoak and cobc conditions.</p>
<p>When we reject the assuming the location shift, we can relax the distributional assumptions even further and perform a test in terms of probabilistic indices (see the <code>Non_parametric_shrimps.Rmd</code> file).</p>
<p>With this Kruskal-Wallis test, we will test whether or not the chance that a random value of one treatment group is larger than or equal to (“<span class="math inline">\(\geq\)</span>”) a random value of another treatment group is significantly different from 50%.</p>
<div id="hypotheses-1" class="section level2">
<h2><span class="header-section-number">5.1</span> Hypotheses</h2>
<ul>
<li><p>Null hypothesis: <span class="math inline">\(H0\)</span>: The distribution of freshweights of lettuce plants are equal for all treatment conditions.</p></li>
<li><p>Alternative hypothesis: <span class="math inline">\(HA\)</span>: The chance that a random value of at least one treatment group is larger than or equal to (“<span class="math inline">\(\geq\)</span>”) a random value of at least one other treatment group is significantly different from 50%.</p></li>
</ul>
</div>
<div id="test" class="section level2">
<h2><span class="header-section-number">5.2</span> Test</h2>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="kw">set.seed</span>(<span class="dv">1</span>)</span>
<span id="cb10-2"><a href="#cb10-2"></a>kwPerm &lt;-<span class="st"> </span><span class="kw">kruskal_test</span>(freshweight<span class="op">~</span>treatment,lettuce,</span>
<span id="cb10-3"><a href="#cb10-3"></a>                       <span class="dt">distribution=</span><span class="kw">approximate</span>(<span class="dt">nresample=</span><span class="dv">100000</span>))</span>
<span id="cb10-4"><a href="#cb10-4"></a>kwPerm</span></code></pre></div>
<pre><code>## 
##  Approximative Kruskal-Wallis Test
## 
## data:  freshweight by
##   treatment (cobc, compost, control, refoak)
## chi-squared = 20.715, p-value &lt; 1e-05</code></pre>
<p>Note that here we are comparing the observed test statistic (chi-squared = 20.715) with the test statistics derived from an empirical distribution that was generated by taking 10.000 permutations of the original lettuce dataset.</p>
<p>We find an extremly significant (p &lt; 1e-05) of the treatment on the freshweight. On the 5% global significance level, we may state that the chance that a random value of at least one treatment group is larger than or equal to (“<span class="math inline">\(\geq\)</span>”) a random value of at least one other treatment group is significantly different from 50%.</p>
<p>Now, we will perform a post-hoc analysis to find out which specific groups are different from each other.</p>
</div>
</div>
<div id="post-hoc-analysis" class="section level1">
<h1><span class="header-section-number">6</span> Post-hoc analysis</h1>
<p>We will perform a post-hoc analysis with pairwise Wilcoxon rank sum test. As we did not want to assume the location shift, we will interpret the outcome in terms of probabilistic indices. Note that after the analysis, we will need to correct the acquired p-values for multiple testing.</p>
<div id="hypotheses-2" class="section level2">
<h2><span class="header-section-number">6.1</span> Hypotheses</h2>
<p>For each pairwise test, we have the following hypotheses:</p>
<ul>
<li><p>Null hopothesis: <span class="math inline">\(H0\)</span>: The distribution of freshweights of lettuce plants are equal for both treatment conditions.</p></li>
<li><p>Alternative hypothesis: <span class="math inline">\(HA\)</span>: The chance that a random value of treatment group 1 is larger than or equal to (“<span class="math inline">\(\geq\)</span>”) a random value of treatment group 2 is significantly different from 50%.</p></li>
</ul>
</div>
<div id="test-1" class="section level2">
<h2><span class="header-section-number">6.2</span> Test</h2>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="co">## initial attempt to perform the analysis</span></span>
<span id="cb12-2"><a href="#cb12-2"></a><span class="kw">pairwise.wilcox.test</span>(lettuce<span class="op">$</span>freshweight,lettuce<span class="op">$</span>treatment)</span></code></pre></div>
<pre><code>## Warning in wilcox.test.default(xi, xj, paired = paired, ...): cannot compute
## exact p-value with ties

## Warning in wilcox.test.default(xi, xj, paired = paired, ...): cannot compute
## exact p-value with ties

## Warning in wilcox.test.default(xi, xj, paired = paired, ...): cannot compute
## exact p-value with ties

## Warning in wilcox.test.default(xi, xj, paired = paired, ...): cannot compute
## exact p-value with ties

## Warning in wilcox.test.default(xi, xj, paired = paired, ...): cannot compute
## exact p-value with ties

## Warning in wilcox.test.default(xi, xj, paired = paired, ...): cannot compute
## exact p-value with ties</code></pre>
<pre><code>## 
##  Pairwise comparisons using Wilcoxon rank sum test with continuity correction 
## 
## data:  lettuce$freshweight and lettuce$treatment 
## 
##         cobc  compost control
## compost 0.400 -       -      
## control 0.013 0.013   -      
## refoak  0.013 0.013   0.400  
## 
## P value adjustment method: holm</code></pre>
<p>We get the following warning message: <code>cannot compute exact p-value with ties</code>.</p>
<p>This is because the <code>pairwise.wilcox.test()</code> use the standard <code>wilcox.test()</code> function. In the help file of this function (?wilcox.test), we can read that in the presence of ties in the data, the function will perform an asymptotic test rather than an exact test.</p>
</div>
<div id="test-2" class="section level2">
<h2><span class="header-section-number">6.3</span> Test (2)</h2>
<p>If we do want to obtain exact p-values, we may use the <code>wilcox_test()</code> function from the <code>coin</code> package for each pairwise combination of treatments. The obtained p-values must be corrected for multiple testing, e.g. with the <code>p.adjust()</code> function.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a><span class="co">## caluclate the p-value for each treatment combination with wilcoxon_test</span></span>
<span id="cb15-2"><a href="#cb15-2"></a>treatments &lt;-<span class="st"> </span><span class="kw">levels</span>(lettuce<span class="op">$</span>treatment)</span>
<span id="cb15-3"><a href="#cb15-3"></a>freshweight &lt;-<span class="st"> </span>lettuce<span class="op">$</span>freshweight</span>
<span id="cb15-4"><a href="#cb15-4"></a></span>
<span id="cb15-5"><a href="#cb15-5"></a>pvalues &lt;-<span class="st"> </span><span class="kw">combn</span>(treatments,<span class="dv">2</span>,<span class="cf">function</span>(x){</span>
<span id="cb15-6"><a href="#cb15-6"></a>  </span>
<span id="cb15-7"><a href="#cb15-7"></a>  <span class="co">## Pairwise Wilcon test</span></span>
<span id="cb15-8"><a href="#cb15-8"></a>  test =<span class="st"> </span><span class="kw">wilcox_test</span>(freshweight<span class="op">~</span>treatment,<span class="kw">subset</span>(lettuce,treatment<span class="op">%in%</span>x), <span class="dt">distribution =</span> <span class="st">&#39;exact&#39;</span>)</span>
<span id="cb15-9"><a href="#cb15-9"></a>  </span>
<span id="cb15-10"><a href="#cb15-10"></a>  <span class="co">## Get and store p-value of test</span></span>
<span id="cb15-11"><a href="#cb15-11"></a>  <span class="kw">pvalue</span>(test)</span>
<span id="cb15-12"><a href="#cb15-12"></a>})</span>
<span id="cb15-13"><a href="#cb15-13"></a></span>
<span id="cb15-14"><a href="#cb15-14"></a><span class="co">## Adjust for multiple testing</span></span>
<span id="cb15-15"><a href="#cb15-15"></a>pvalues_holm =<span class="st"> </span><span class="kw">p.adjust</span>(pvalues,<span class="dt">method =</span> <span class="st">&#39;holm&#39;</span>) </span>
<span id="cb15-16"><a href="#cb15-16"></a></span>
<span id="cb15-17"><a href="#cb15-17"></a><span class="co">## link the p-value with the correct pairwise test</span></span>
<span id="cb15-18"><a href="#cb15-18"></a><span class="kw">names</span>(pvalues_holm) &lt;-<span class="st"> </span><span class="kw">combn</span>(<span class="kw">levels</span>(lettuce<span class="op">$</span>treatment),<span class="dv">2</span>,paste,<span class="dt">collapse=</span><span class="st">&quot;_VS_&quot;</span>)</span>
<span id="cb15-19"><a href="#cb15-19"></a>pvalues_holm</span></code></pre></div>
<pre><code>##    cobc_VS_compost    cobc_VS_control     cobc_VS_refoak compost_VS_control 
##        0.393939394        0.005244755        0.003496503        0.003496503 
##  compost_VS_refoak  control_VS_refoak 
##        0.003496503        0.405594406</code></pre>
<p>The exact p-values do indeed deviate from those calculated with the <code>pairwise.wilcox.test()</code> function. We will proceed with the exact p-values.</p>
<p>Now we will compute the point estimation for the probabilistic index (for each pairwise comparison). Note that we already did this in the <code>Non_parametric_shrimps.Rmd</code> file for a single comparison.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="co">## Count the number of observations per group</span></span>
<span id="cb17-2"><a href="#cb17-2"></a>nGroup &lt;-<span class="st"> </span><span class="kw">table</span>(lettuce<span class="op">$</span>treatment)</span>
<span id="cb17-3"><a href="#cb17-3"></a></span>
<span id="cb17-4"><a href="#cb17-4"></a><span class="co">## Compute the probabilistic index for each pairwise combination</span></span>
<span id="cb17-5"><a href="#cb17-5"></a>treatments &lt;-<span class="st"> </span><span class="kw">levels</span>(lettuce<span class="op">$</span>treatment)</span>
<span id="cb17-6"><a href="#cb17-6"></a></span>
<span id="cb17-7"><a href="#cb17-7"></a>probInd &lt;-<span class="st"> </span><span class="kw">combn</span>(treatments,<span class="dv">2</span>,<span class="cf">function</span>(x){</span>
<span id="cb17-8"><a href="#cb17-8"></a>  <span class="co">## Compute the U1 statistic</span></span>
<span id="cb17-9"><a href="#cb17-9"></a>  U1 &lt;-<span class="st"> </span><span class="kw">wilcox.test</span>(freshweight<span class="op">~</span>treatment,<span class="kw">subset</span>(lettuce,treatment<span class="op">%in%</span>x))<span class="op">$</span>statistic</span>
<span id="cb17-10"><a href="#cb17-10"></a>  </span>
<span id="cb17-11"><a href="#cb17-11"></a>  <span class="co">## Compute the probabilistic index</span></span>
<span id="cb17-12"><a href="#cb17-12"></a>  U1<span class="op">/</span><span class="kw">prod</span>(nGroup[x])</span>
<span id="cb17-13"><a href="#cb17-13"></a>})</span></code></pre></div>
<pre><code>## Warning in wilcox.test.default(x = c(57, 49, 52, 43, 59, 61, 58), y = c(59, :
## cannot compute exact p-value with ties</code></pre>
<pre><code>## Warning in wilcox.test.default(x = c(57, 49, 52, 43, 59, 61, 58), y = c(38, :
## cannot compute exact p-value with ties</code></pre>
<pre><code>## Warning in wilcox.test.default(x = c(57, 49, 52, 43, 59, 61, 58), y = c(38, :
## cannot compute exact p-value with ties</code></pre>
<pre><code>## Warning in wilcox.test.default(x = c(59, 64, 57, 56, 50, 64, 62), y = c(38, :
## cannot compute exact p-value with ties</code></pre>
<pre><code>## Warning in wilcox.test.default(x = c(59, 64, 57, 56, 50, 64, 62), y = c(38, :
## cannot compute exact p-value with ties</code></pre>
<pre><code>## Warning in wilcox.test.default(x = c(38, 34, 41, 43, 43, 29, 38), y = c(38, :
## cannot compute exact p-value with ties</code></pre>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a><span class="co">## link the probabilistic index with the correct pairwise test</span></span>
<span id="cb24-2"><a href="#cb24-2"></a><span class="kw">names</span>(probInd) &lt;-<span class="st"> </span><span class="kw">combn</span>(<span class="kw">levels</span>(lettuce<span class="op">$</span>treatment),<span class="dv">2</span>,paste,<span class="dt">collapse=</span><span class="st">&quot;_VS_&quot;</span>)</span>
<span id="cb24-3"><a href="#cb24-3"></a>probInd</span></code></pre></div>
<pre><code>##    cobc_VS_compost    cobc_VS_control     cobc_VS_refoak compost_VS_control 
##          0.2857143          0.9795918          1.0000000          1.0000000 
##  compost_VS_refoak  control_VS_refoak 
##          1.0000000          0.6428571</code></pre>
<p>We again see the same warning message. Here, this is not a prblem, we are not interested in the p-values (which we already computed), we only care about the probabilistic indices, that are calculated from the U1 statistic. U1 is computed as the number of times an observation of group 1 is larger than or equal to an observation of group 2. This statistic is thus defined even in the case of ties.</p>
</div>
</div>
<div id="conclusion" class="section level1">
<h1><span class="header-section-number">7</span> Conclusion</h1>
<p>We find an extremly significant (p &lt; 1e-05) of the treatment on the freshweight. On the 5% global significance level, we may state that the chance that a random value of at least one treatment group is larger than or equal to (“<span class="math inline">\(\geq\)</span>”) a random value of at least one other treatment group is significantly different from 50%.</p>
<p>For the post-hoc analysis:</p>
<ul>
<li><p>We find a highly significant difference in the distributions between the compost treatment and the control treatment. The probability that the freshweigth of plants grown in compost soil is higher than or equal to (“<span class="math inline">\(\geq\)</span>”) the freshweigth of plants grown in control soil is 100%. This is highly significantly different from 50% (adjusted p-value=0.003).</p></li>
<li><p>We find a highly significant difference in the distributions between the cobc treatment and the control treatment. The probability that the freshweigth of plants grown in compost soil is higher than or equal to (“<span class="math inline">\(\geq\)</span>”) the freshweigth of plants grown in control soil is 98%. This is highly significantly different from 50% (adjusted p-value=0.005).</p></li>
<li><p>We find a highly significant difference in the distributions between the compost treatment and the refoak treatment. The probability that the freshweigth of plants grown in compost soil is higher than or equal to (“<span class="math inline">\(\geq\)</span>”) the freshweigth of plants grown in control soil is 100%. This is highly significantly different from 50% (adjusted p-value=0.003).</p></li>
<li><p>We find a highly significant difference in the distributions between the cobc treatment and the refoak treatment. The probability that the freshweigth of plants grown in compost soil is higher than or equal to (“<span class="math inline">\(\geq\)</span>”) the freshweigth of plants grown in control soil is 100%. This is highly significantly different from 50% (adjusted p-value=0.003).</p></li>
</ul>
<p>For the other contrast, we do not enough find evidence to suggest significant differences between the treatment groups.</p>
<p>We may conclude that supplementing soil with compost or with both compost and biochar has a positive effect on the freshweigth of lettuce plants. Note that, qualitatively, these conclusion are exactly the same as with the ANOVA analysis of the dataset in the <code>ANOVA_lettuce_plants.Rmd</code> file.</p>
</div>

<div id="rmd-source-code">LS0tCnRpdGxlOiAiRXhlcmNpc2UgOS4yOiBOb24tcGFyYW1ldHJpYyBzdGF0aXN0aWNzIG9uIHRoZSBsZXR0dWNlIGRhdGFzZXQiICAgCmF1dGhvcjogIkxpZXZlbiBDbGVtZW50IGFuZCBKZXJvZW4gR2lsaXMiCmRhdGU6ICJzdGF0T21pY3MsIEdoZW50IFVuaXZlcnNpdHkgKGh0dHBzOi8vc3RhdG9taWNzLmdpdGh1Yi5pbykiICAKb3V0cHV0OgogICAgaHRtbF9kb2N1bWVudDoKICAgICAgY29kZV9kb3dubG9hZDogdHJ1ZSAgICAKICAgICAgdGhlbWU6IGNvc21vCiAgICAgIHRvYzogdHJ1ZQogICAgICB0b2NfZmxvYXQ6IHRydWUKICAgICAgaGlnaGxpZ2h0OiB0YW5nbwogICAgICBudW1iZXJfc2VjdGlvbnM6IHRydWUKLS0tCgojIFRoZSBsZXR0dWNlIGRhdGFzZXQKCkluIGEgcHJldmlvdXMgdHV0b3JpYWwsIHdlIGFuYWx5c2VkIHRoZSBkYXRhc2V0IG9uCmxldHR1Y2UgcGxhbnRzIHVzaW5nIEFOT1ZBLiBIb3dldmVyLCBpdCB3YXMgbm90IGNsZWFyCmlmIGFsbCB0aGUgYXNzdW1wdGlvbnMgb2YgQU5PVkEgd2VyZSBtZXQuIEluZGVlZCwgd2l0aApvbmx5IDcgZGF0YXBvaW50cyBwZXIgZ3JvdXAsIGl0IGlzIHZlcnkgaGFyZCB0byBhc3Nlc3MKdGhlIGFzc3VtcHRpb25zIG9mIG5vcm1hbGl0eSBhbmQgZXF1YWwgdmFyaWFuY2VzLgoKVGhlcmVmb3JlLCB3ZSB3aWxsIHJlLWFuYWx5c2UgdGhlIGRhdGFzZXQgYnkgdXNpbmcgdGhlCm5vbi1wYXJhbWV0cmljIGFsdGVybmF0aXZlIHRvIEFOT1ZBLCB0aGUgYEtydXNrYWwtV2FsbGlzIHRlc3RgLgpXZSB3aWxsIGZpcnN0IGdpdmUgYSBjb25jaXNlIG92ZXJ2aWV3IG9mIHdoYXQgd2Ugc2F3IGluIHRoZQpBTk9WQSBhbmFseXNpcywgd2hpY2ggY2FuIGJlIGZvdW5kIGluIHRoZSAKYEFOT1ZBX2xldHR1Y2VfcGxhbnRzLlJtZGAgZmlsZS4KClRoZSByZXNlYXJjaGVycyB3YW50IHRvIGZpbmQgb3V0IGlmIGJpb2NoYXIsIGNvbXBvc3QgYW5kCmEgY29tYmluYXRpb24gb2YgYm90aCBiaW9jaGFyIGFuZCBjb21wb3N0IGhhdmUgYW4gaW5mbHVlbmNlCm9uIHRoZSBncm93dGggb2YgbGV0dHVjZSBwbGFudHMuIFRvIHRoaXMgZW5kLCB0aGV5IGdyZXcgdXAKbGV0dHVjZSBwbGFudHMgaW4gYSBncmVlbmhvdXNlLiBUaGUgcG90cyB3ZXJlIGZpbGxlZCB3aXRoCm9uZSBvZiBmb3VyIHNvaWwgdHlwZXM7CgoxLiBTb2lsIG9ubHkgKGNvbnRyb2wpCjIuIFNvaWwgc3VwcGxlbWVudGVkIHdpdGggYmlvY2hhciAocmVmb2FrKQozLiBTb2lsIHN1cHBsZW1lbnRlZCB3aXRoIGNvbXBvc3QgKGNvbXBvc3QpCjQuIFNvaWwgc3VwcGxlbWVudGVkIHdpdGggYm90aCBiaW9jaGFyIGFuZCBjb21wb3N0IChjb2JjKQoKVGhlIGRhdGFzZXQgYGZyZXNod2VpZ2h0X2xldHR1Y2UudHh0YCBjb250YWlucyB0aGUgZnJlc2h3ZWlnaHQKKGluIGdyYW1zKSBmb3IgMjggbGV0dHVjZSBwbGFudHMgKDcgcGVyIGNvbmRpdGlvbikuCgpMb2FkIHRoZSByZXF1aXJlZCBsaWJyYXJpZXMKCmBgYHtyLCBtZXNzYWdlID0gRkFMU0V9CmxpYnJhcnkodGlkeXZlcnNlKQpsaWJyYXJ5KGNhcikKbGlicmFyeShjb2luKQpgYGAKCiMgRGF0YSBpbXBvcnQKCmBgYHtyLCBtZXNzYWdlPUZBTFNFfQpsZXR0dWNlIDwtIHJlYWRfY3N2KCJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vc3RhdE9taWNzL1BTTFMyMS9kYXRhL2ZyZXNod2VpZ2h0X2xldHR1Y2UudHh0IikKIyBUYWtlIGEgZ2xpbXBzZSBhdCB0aGUgZGF0YQpnbGltcHNlKGxldHR1Y2UpCmBgYAoKYGBge3J9CiMgdHJlYXRtZW50IHRvIGZhY3RvcgpsZXR0dWNlIDwtIGxldHR1Y2UgJT4lCiAgbXV0YXRlKHRyZWF0bWVudCA9IGFzLmZhY3Rvcih0cmVhdG1lbnQpKQpgYGAKCiMgRGF0YSBleHBsb3JhdGlvbgoKYGBge3J9CiMgQ291bnQgdGhlIG51bWJlciBvZiBvYnNlcnZhdGlvbnMgcGVyIHRyZWF0bWVudAp0YWJsZShsZXR0dWNlJHRyZWF0bWVudCkKYGBgCgpOb3cgbGV0J3MgbWFrZSBhIGJveHBsb3QgZGlzcGxheWluZyB0aGUgZnJlc2h3ZWlnaHQKb2YgZWFjaCB0cmVhdG1lbnQgY29uZGl0aW9uOgoKYGBge3J9CmxldHR1Y2UgJT4lCiAgZ2dwbG90KGFlcyh4PXRyZWF0bWVudCx5PWZyZXNod2VpZ2h0LGZpbGw9dHJlYXRtZW50KSkgKyAKICAgIHNjYWxlX2ZpbGxfYnJld2VyKHBhbGV0dGU9IlJkR3kiKSArCiAgICB0aGVtZV9idygpICsKICAgIGdlb21fYm94cGxvdChvdXRsaWVyLnNoYXBlPU5BKSArIAogICAgZ2VvbV9qaXR0ZXIod2lkdGggPSAwLjIpICsKICAgIGdndGl0bGUoIkJveHBsb3Qgb2YgdGhlIGZyZXNod2VpZ3RoIGZvciBlYWNoIHRyZWF0bWVudCBjb25kaXRpb24iKSArCiAgICB5bGFiKCJmcmVzaHdlaWdodCAoZ3JhbSkiKSArIAogICAgc3RhdF9zdW1tYXJ5KGZ1bj1tZWFuLCBnZW9tPSJwb2ludCIsIHNoYXBlPTUsIHNpemU9MywgY29sb3I9ImJsYWNrIiwgZmlsbD0iYmxhY2siKQpgYGAKCk5vdGUgdGhhdCB0aGVyZSBhcmUgbm8gY2xlYXIgb3V0bGllcnMgaW4gdGhlIGRhdGEuCldlIGNhbiBzZWUgdGhhdCB0aGUgbWVhbiBmcmVzaHdlaWdodCBpcyB2ZXJ5IGNvbXBhcmFibGUKYmV0d2VlbiB0aGUgY29udHJvbCBhbmQgcmVmb2FrIHRyZWF0bWVudHMgYW5kIGJldHdlZW4gdGhlCmNvbXBvc3QgYW5kIGNvYmMgdHJlYXRtZW50cy4gV2UgY2FuIGFsc28gc2VlIHRoYXQgdGhlIG1lYW4KZnJlc2h3ZWlnaHQgaXMgbXVjaCBoaWdoZXIgaW4gdGhlIGNvYmMgYW5kIGNvbnRyb2wgdHJlYXRtZW50cwp0aGFuIGluIHRoZSBjb250cm9sIGFuZCByZWZvYWsgdHJlYXRtZW50cy4gQnV0IGlzIHRoaXMKb2JzZXJ2ZWQgZGlmZmVyZW5jZSBzaWduaWZpY2FudD8KCiMgQU5PVkEKClRvIHN0dWR5IHdoZXRoZXIgb3Igbm90IHRoZSBvYnNlcnZlZCBkaWZmZXJlbmNlIGJldHdlZW4gdGhlCmF2ZXJhZ2UgZnJlc2h3ZWlnaHQgdmFsdWVzIG9mIHRoZSBkaWZmZXJlbnR0IHRyZWF0bWVudCBncm91cHMKYXJlIHNpZ25pZmljYW50LCB3ZSBtYXkgcGVyZm9ybSBhbiBBTk9WQS4KCiMjIEh5cG90aGVzZXMKClRoZSBudWxsIGh5cG90aGVzaXMgb2YgQU5PVkEgc3RhdGVzIHRoYXQ6ClRoZSBtZWFuIGZyZXNod2VpZ3RoIGlzIGVxdWFsIGJldHdlZW4gdGhlIGRpZmZlcmVudCB0cmVhdG1lbnQgZ3JvdXBzLgoKVGhlIGFsdGVybmF0aXZlIGh5cG90aGVzaXMgb2YgQU5PVkEgc3RhdGVzIHRoYXQ6ClRoZSBtZWFuIGZyZXNod2VpZ3RoIGZvciBhdCBsZWFzdCBvbmUgdHJlYXRtZW50IGdyb3VwIGlzIGRpZmZlcmVudCAKdGhhbiB0aGUgbWVhbiBmcmVzaHdlaWdodCBpbiBhdCBsZWFzdCBvbmUgb3RoZXIgdHJlYXRtZW50IGdyb3VwLgoKIyMgQ2hlY2tpbmcgdGhlIGFzc3VtcHRpb25zIG9mIEFOT1ZBCgpCZWZvcmUgd2UgbWF5IHByb2NlZWQgd2l0aCB0aGUgYW5hbHlzaXMsIHdlIG11c3QgbWFrZSBzdXJlIHRoYXQgYWxsCmFzc3VtcHRpb25zIGZvciBBTk9WQSBhcmUgbWV0LiBBTk9WQSBoYXMgdGhyZWUgYXNzdW1wdGlvbnM6CgoxLiBUaGUgb2JzZXJ2YXRpb25zIGFyZSBpbmRlcGVuZGVudCBvZiBlYWNoIG90aGVyIChpbiBhbGwgZ3JvdXBzKQoyLiBUaGUgZGF0YSAoZnJlc2h3ZWlndGgpIG11c3QgYmUgbm9ybWFsbHkgZGlzdHJpYnV0ZWQgKGluIGFsbCBncm91cHMpCjMuIFRoZSB2YXJpYWJpbGl0eSB3aXRoaW4gYWxsIGdyb3VwcyBpcyBzaW1pbGFyCgojIyMgQXNzdW1wdGlvbiBvZiBpbmRlcGVuZGVuY2UKClRoZSBmaXJzdCBhc3N1bXB0aW9uIGlzIG1ldDsgd2Ugc3RhcnRlZCBvZiB3aXRoIDI4IGxldHR1Y2UgcGxhbnRzIGFuZAp3ZSByYW5kb21seSBzdWJtaXR0ZWQgdGhlbSB0byBvbmUgb2YgZm91ciB0cmVhdG1lbnQgY29uZGl0aW9ucy4gVGhlcmUKaXMgbm8gcmVhc29uIHRvIGJlbGlldmUgdGhhdCB0aGUgcGxhbnRzIGRpc3BsYXkgc3lzdGVtYXRpYyBkaWZmZXJlbmNlcwpiZXR3ZWVuIHR0cmVhdG1lbnQgZ3JvdXBzLCBvdGhlciB0aGFuIHRoZSBhY3R1YWwgdHJlYXRtZW50LgoKIyMjIEFzc3VtcHRpb24gb2Ygbm9ybWFsaXR5CgpGb3IgdGhlIHNlY29uZCBhc3N1bXB0aW9uLCB3ZSBtdXN0IGNoZWNrIG5vcm1hbGl0eSBpbiBlYWNoIGdyb3VwLgoKYGBge3J9CiMjIGdldCBxcXBsb3RzIGZvciBlYWNoIGluZGl2aWR1YWwgdHJlYXRtZW50IGdyb3VwCnBhcihtZnJvdyA9IGMoMiwyKSkKZm9yKGkgaW4gbGV2ZWxzKGxldHR1Y2UkdHJlYXRtZW50KSl7CiAgcXFQbG90KHN1YnNldChsZXR0dWNlLHRyZWF0bWVudCA9PSBpKSRmcmVzaHdlaWdodCwgbWFpbiA9IGksIHlsYWIgPSAiIikKfQpgYGAKCldoaWxlIGluIHRoZSBgQU5PVkFfbGV0dHVjZV9wbGFudHMuUm1kYCBmaWxlIHdlIGFjY2VwdGVkCnRoZSBhc3N1bXB0aW9uIG9mIG5vcm1hbGl0eSwgaXQgbXVzdCBiZSBub3RlZCB0aGF0IGl0IGlzCnRyaWNreSB0byBhc3Nlc3MgdGhlIGFzc3VtcHRpb24gd2l0aCBvbmx5IDcgZGF0YXBvaW50cy4KU2VlIGBBTk9WQV9sZXR0dWNlX3BsYW50cy5SbWRgImAgZm9yIG1vcmUgZGV0YWlscyBvbiB0aGlzLgoKKipMZXQncyBzYXkgdGhhdCBoZXJlIHdlIGRlY2lkZSBub3QgdG8gYXNzdW1lIG5vcm1hbGl0eS4qKgoKIyMjIEFzc3VtcHRpb24gb2YgZXF1YWwgdmFyaWFuY2VzCgpXZSBjYW4gY2hlY2sgdGhlIGFzc3VtcHRpb24gb2YgZXF1YWwgdmFyaWFuY2Ugd2l0aCBhIGJveHBsb3Q6CgpgYGB7cn0KbGV0dHVjZSAlPiUKICBnZ3Bsb3QoYWVzKHg9dHJlYXRtZW50LHk9ZnJlc2h3ZWlnaHQsZmlsbD10cmVhdG1lbnQpKSArIAogIHNjYWxlX2ZpbGxfYnJld2VyKHBhbGV0dGU9IlJkR3kiKSArCiAgdGhlbWVfYncoKSArCiAgZ2VvbV9ib3hwbG90KG91dGxpZXIuc2hhcGU9TkEpICsgCiAgZ2VvbV9qaXR0ZXIod2lkdGggPSAwLjIpICsKICBnZ3RpdGxlKCJCb3hwbG90IG9mIHRoZSBmcmVzaHdlaWd0aCBmb3IgZWFjaCB0cmVhdG1lbnQgY29uZGl0aW9uIikgKwogIHlsYWIoImZyZXNod2VpZ2h0IChncmFtKSIpICsgCiAgc3RhdF9zdW1tYXJ5KGZ1bj1tZWFuLCBnZW9tPSJwb2ludCIsIHNoYXBlPTUsIHNpemU9MywgY29sb3I9ImJsYWNrIiwgZmlsbD0iYmxhY2siKQpgYGAKCkFzIGEgbWVhc3VyZSBvZiB2YXJpYWJpbGl0eSwgd2UgbWF5IHRha2UgdGhlIGhlaWdodApvZiBlYWNoIGJveHBsb3QncyBib3guIFRoaXMgaXMgdGhlIGludGVydmFsIGJldHdlZW4KdGhlIDI1JSBhbmQgNzUlIHF1YW50aWxlLiBIZXJlIHdlIGNhbiBzZWUgdGhhdCB0aGlzCmludGVydmFsLCBhcyB3ZWxsIGFzIHRoZSBsZW5ndGggb2YgdGhlIHdoaXNrZXJzLCBpcwphcHByb3hpbWF0ZWx5IGVxdWFsIGZvciBtb3N0IGdyb3Vwcy4gSG93ZXZlciwgdGhlCnZhcmlhYmlsaXR5IG9mIGNvYmMgZG9lcyBzZWVtIHRvIGJlIHF1aXRlIGEgYml0IGxhcmdlciAKdGhhbiB0aGUgdmFyaWFiaWxpdHkgaW4gdGhlIHJlZm9hayBncm91cC4gCgoqKldoaWxlIHdlIGFjY2VwdGVkIHRoZSBhc3N1bXB0aW9uIG9mIGVxdWFsIHZhcmlhbmNlcyBpbiB0aGUqKgoqKmBBTk9WQV9sZXR0dWNlX3BsYW50cy5SbWRgIGZpbGUsIHdlIHdpbGwgaGVyZSByZWplY3QgdGhlKioKKiphc3N1bXB0aW9uLioqCgpOb3QgYWxsIGFzc3VtcHRpb25zIGZvciBBTk9WQSBhcmUgbWV0LiBBcyBzdWNoLCB3ZSB3aWxsIHJlbHkKb24gdGhlIG5vbi1wYXJhbWV0cmljIGFsdGVybmF0aXZlIG9mIEFOT1ZBOiB0aGUgS3J1c2thbC1XYWxsaXMKdGVzdC4KCiMgS3J1c2thbC1XYWxsaXMgcmFuayB0ZXN0CgpJZiB3ZSB3YW50IHRvIHRlc3QgZm9yIGEgZGlmZmVyZW5jZSBpbiB0aGUgbWVkaWFuIG9mIHRoZQpkaWZmZXJlbnQgdHJlYXRtZW50IGdyb3Vwcywgd2UgaGF2ZSB0byAqKmFzc3VtZSBhIGxvY2F0aW9uIHNoaWZ0KiosCnNheWluZyB0aGF0IGFsbCB0cmVhdG1lbnQgZ3JvdXBzIGZvbGxvdyB0aGUgc2FtZSBkaXN0cmlidXRpb24sCmJ1dCB3aXRoIGEgZGlmZmVyZW50IG1lZGlhbi4KCkhvd2V2ZXIsIGhlcmUsIHdlIG1pZ2h0IGJlICoqbm90IHByZXBhcmVkIGZvciB0YWtpbmcgdGhpcyBhc3N1bXB0aW9uKiouCldoaWxlIHRoZSByYW5nZSBhbmQgc3ByZWFkIG9mIHRoZSBkYXRhIGlzIHNpbWlsYXIgZm9yIG1vc3QgZ3JvdXBzCihzZWUgYm94cGxvdCksIHRoZXJlIGlzIGEgcXVpdGUgYSBiaWcgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSBJUVIgb2YKdGhlIHJlZm9hayBhbmQgY29iYyBjb25kaXRpb25zLgoKV2hlbiB3ZSByZWplY3QgdGhlIGFzc3VtaW5nIHRoZSBsb2NhdGlvbiBzaGlmdCwgd2UgY2FuIHJlbGF4IHRoZQpkaXN0cmlidXRpb25hbCBhc3N1bXB0aW9ucyBldmVuIGZ1cnRoZXIgYW5kIHBlcmZvcm0gYSB0ZXN0IGluIHRlcm1zCm9mIHByb2JhYmlsaXN0aWMgaW5kaWNlcyAoc2VlIHRoZSBgTm9uX3BhcmFtZXRyaWNfc2hyaW1wcy5SbWRgIGZpbGUpLgoKV2l0aCB0aGlzIEtydXNrYWwtV2FsbGlzIHRlc3QsIHdlIHdpbGwgdGVzdCB3aGV0aGVyIG9yIG5vdCB0aGUgY2hhbmNlCnRoYXQgYSByYW5kb20gdmFsdWUgb2Ygb25lIHRyZWF0bWVudCBncm91cCBpcyBsYXJnZXIgdGhhbiBvciBlcXVhbCB0bwooIiRcZ2VxJCIpIGEgcmFuZG9tIHZhbHVlIG9mIGFub3RoZXIgdHJlYXRtZW50IGdyb3VwIGlzIHNpZ25pZmljYW50bHkKZGlmZmVyZW50IGZyb20gNTAlLgoKIyMgSHlwb3RoZXNlcwoKLSBOdWxsIGh5cG90aGVzaXM6CiRIMCQ6IFRoZSBkaXN0cmlidXRpb24gb2YgZnJlc2h3ZWlnaHRzIG9mIGxldHR1Y2UgcGxhbnRzIGFyZSBlcXVhbApmb3IgYWxsIHRyZWF0bWVudCBjb25kaXRpb25zLgoKLSBBbHRlcm5hdGl2ZSBoeXBvdGhlc2lzOgokSEEkOiBUaGUgY2hhbmNlIHRoYXQgYSByYW5kb20gdmFsdWUgb2YgYXQgbGVhc3Qgb25lIHRyZWF0bWVudCBncm91cCAKaXMgbGFyZ2VyIHRoYW4gb3IgZXF1YWwgdG8gKCIkXGdlcSQiKSBhIHJhbmRvbSB2YWx1ZSBvZiBhdCBsZWFzdApvbmUgb3RoZXIgdHJlYXRtZW50IGdyb3VwIGlzIHNpZ25pZmljYW50bHkgZGlmZmVyZW50IGZyb20gNTAlLgoKIyMgVGVzdAoKYGBge3J9CnNldC5zZWVkKDEpCmt3UGVybSA8LSBrcnVza2FsX3Rlc3QoZnJlc2h3ZWlnaHR+dHJlYXRtZW50LGxldHR1Y2UsCiAgICAgICAgICAgICAgICAgICAgICAgZGlzdHJpYnV0aW9uPWFwcHJveGltYXRlKG5yZXNhbXBsZT0xMDAwMDApKQprd1Blcm0KYGBgCgpOb3RlIHRoYXQgaGVyZSB3ZSBhcmUgY29tcGFyaW5nIHRoZSBvYnNlcnZlZCB0ZXN0IHN0YXRpc3RpYwooY2hpLXNxdWFyZWQgPSBgciBmb3JtYXQoa3dQZXJtQHN0YXRpc3RpY0B0ZXN0c3RhdGlzdGljLCBkaWdpdHM9NSlgKSB3aXRoIHRoZSB0ZXN0IHN0YXRpc3RpY3MgZGVyaXZlZCBmcm9tCmFuIGVtcGlyaWNhbCBkaXN0cmlidXRpb24gdGhhdCB3YXMgZ2VuZXJhdGVkIGJ5IHRha2luZyAxMC4wMDAKcGVybXV0YXRpb25zIG9mIHRoZSBvcmlnaW5hbCBsZXR0dWNlIGRhdGFzZXQuCgpXZSBmaW5kIGFuIGV4dHJlbWx5IHNpZ25pZmljYW50IChwIDwgMWUtMDUpIG9mIHRoZSB0cmVhdG1lbnQKb24gdGhlIGZyZXNod2VpZ2h0LiBPbiB0aGUgNSUgZ2xvYmFsIHNpZ25pZmljYW5jZSBsZXZlbCwgd2UgbWF5CnN0YXRlIHRoYXQgdGhlIGNoYW5jZSB0aGF0IGEgcmFuZG9tIHZhbHVlIG9mIGF0IGxlYXN0IG9uZSB0cmVhdG1lbnQgCmdyb3VwIGlzIGxhcmdlciB0aGFuIG9yIGVxdWFsIHRvICgiJFxnZXEkIikgYSByYW5kb20gdmFsdWUgb2YgYXQgCmxlYXN0IG9uZSBvdGhlciB0cmVhdG1lbnQgZ3JvdXAgaXMgc2lnbmlmaWNhbnRseSBkaWZmZXJlbnQgZnJvbSA1MCUuCgpOb3csIHdlIHdpbGwgcGVyZm9ybSBhIHBvc3QtaG9jIGFuYWx5c2lzIHRvIGZpbmQgb3V0IHdoaWNoIHNwZWNpZmljIApncm91cHMgYXJlIGRpZmZlcmVudCBmcm9tIGVhY2ggb3RoZXIuCgojIFBvc3QtaG9jIGFuYWx5c2lzCgpXZSB3aWxsIHBlcmZvcm0gYSBwb3N0LWhvYyBhbmFseXNpcyB3aXRoIHBhaXJ3aXNlIFdpbGNveG9uIHJhbmsKc3VtIHRlc3QuIEFzIHdlIGRpZCBub3Qgd2FudCB0byBhc3N1bWUgdGhlIGxvY2F0aW9uIHNoaWZ0LCB3ZSAKd2lsbCBpbnRlcnByZXQgdGhlIG91dGNvbWUgaW4gdGVybXMgb2YgcHJvYmFiaWxpc3RpYyBpbmRpY2VzLgpOb3RlIHRoYXQgYWZ0ZXIgdGhlIGFuYWx5c2lzLCB3ZSB3aWxsIG5lZWQgdG8gY29ycmVjdCB0aGUgYWNxdWlyZWQKcC12YWx1ZXMgZm9yIG11bHRpcGxlIHRlc3RpbmcuCgojIyBIeXBvdGhlc2VzCgpGb3IgZWFjaCBwYWlyd2lzZSB0ZXN0LCB3ZSBoYXZlIHRoZSBmb2xsb3dpbmcgaHlwb3RoZXNlczoKCi0gTnVsbCBob3BvdGhlc2lzOgokSDAkOiBUaGUgZGlzdHJpYnV0aW9uIG9mIGZyZXNod2VpZ2h0cyBvZiBsZXR0dWNlIHBsYW50cyBhcmUgZXF1YWwKZm9yIGJvdGggdHJlYXRtZW50IGNvbmRpdGlvbnMuCgotIEFsdGVybmF0aXZlIGh5cG90aGVzaXM6CiRIQSQ6IFRoZSBjaGFuY2UgdGhhdCBhIHJhbmRvbSB2YWx1ZSBvZiB0cmVhdG1lbnQgZ3JvdXAgMSBpcyBsYXJnZXIgCnRoYW4gb3IgZXF1YWwgdG8gKCIkXGdlcSQiKSBhIHJhbmRvbSB2YWx1ZSBvZiB0cmVhdG1lbnQgZ3JvdXAgMiAKaXMgc2lnbmlmaWNhbnRseSBkaWZmZXJlbnQgZnJvbSA1MCUuCgojIyBUZXN0CgpgYGB7cn0KIyMgaW5pdGlhbCBhdHRlbXB0IHRvIHBlcmZvcm0gdGhlIGFuYWx5c2lzCnBhaXJ3aXNlLndpbGNveC50ZXN0KGxldHR1Y2UkZnJlc2h3ZWlnaHQsbGV0dHVjZSR0cmVhdG1lbnQpCmBgYAoKV2UgZ2V0IHRoZSBmb2xsb3dpbmcgd2FybmluZyBtZXNzYWdlOgpgY2Fubm90IGNvbXB1dGUgZXhhY3QgcC12YWx1ZSB3aXRoIHRpZXNgLgoKVGhpcyBpcyBiZWNhdXNlIHRoZSBgcGFpcndpc2Uud2lsY294LnRlc3QoKWAgdXNlIHRoZQpzdGFuZGFyZCBgd2lsY294LnRlc3QoKWAgZnVuY3Rpb24uIEluIHRoZSBoZWxwIGZpbGUKb2YgdGhpcyBmdW5jdGlvbiAoP3dpbGNveC50ZXN0KSwgd2UgY2FuIHJlYWQgdGhhdCBpbiB0aGUKcHJlc2VuY2Ugb2YgdGllcyBpbiB0aGUgZGF0YSwgdGhlIGZ1bmN0aW9uIHdpbGwgcGVyZm9ybQphbiBhc3ltcHRvdGljIHRlc3QgcmF0aGVyIHRoYW4gYW4gZXhhY3QgdGVzdC4KCiMjIFRlc3QgKDIpCgpJZiB3ZSBkbyB3YW50IHRvIG9idGFpbiBleGFjdCBwLXZhbHVlcywgd2UgbWF5IHVzZSB0aGUKYHdpbGNveF90ZXN0KClgIGZ1bmN0aW9uIGZyb20gdGhlIGBjb2luYCBwYWNrYWdlIGZvcgplYWNoIHBhaXJ3aXNlIGNvbWJpbmF0aW9uIG9mIHRyZWF0bWVudHMuIFRoZSBvYnRhaW5lZApwLXZhbHVlcyBtdXN0IGJlIGNvcnJlY3RlZCBmb3IgbXVsdGlwbGUgdGVzdGluZywgZS5nLgp3aXRoIHRoZSBgcC5hZGp1c3QoKWAgZnVuY3Rpb24uCgpgYGB7cn0KIyMgY2FsdWNsYXRlIHRoZSBwLXZhbHVlIGZvciBlYWNoIHRyZWF0bWVudCBjb21iaW5hdGlvbiB3aXRoIHdpbGNveG9uX3Rlc3QKdHJlYXRtZW50cyA8LSBsZXZlbHMobGV0dHVjZSR0cmVhdG1lbnQpCmZyZXNod2VpZ2h0IDwtIGxldHR1Y2UkZnJlc2h3ZWlnaHQKCnB2YWx1ZXMgPC0gY29tYm4odHJlYXRtZW50cywyLGZ1bmN0aW9uKHgpewogIAogICMjIFBhaXJ3aXNlIFdpbGNvbiB0ZXN0CiAgdGVzdCA9IHdpbGNveF90ZXN0KGZyZXNod2VpZ2h0fnRyZWF0bWVudCxzdWJzZXQobGV0dHVjZSx0cmVhdG1lbnQlaW4leCksIGRpc3RyaWJ1dGlvbiA9ICdleGFjdCcpCiAgCiAgIyMgR2V0IGFuZCBzdG9yZSBwLXZhbHVlIG9mIHRlc3QKICBwdmFsdWUodGVzdCkKfSkKCiMjIEFkanVzdCBmb3IgbXVsdGlwbGUgdGVzdGluZwpwdmFsdWVzX2hvbG0gPSBwLmFkanVzdChwdmFsdWVzLG1ldGhvZCA9ICdob2xtJykgCgojIyBsaW5rIHRoZSBwLXZhbHVlIHdpdGggdGhlIGNvcnJlY3QgcGFpcndpc2UgdGVzdApuYW1lcyhwdmFsdWVzX2hvbG0pIDwtIGNvbWJuKGxldmVscyhsZXR0dWNlJHRyZWF0bWVudCksMixwYXN0ZSxjb2xsYXBzZT0iX1ZTXyIpCnB2YWx1ZXNfaG9sbQpgYGAKClRoZSBleGFjdCBwLXZhbHVlcyBkbyBpbmRlZWQgZGV2aWF0ZSBmcm9tIHRob3NlIGNhbGN1bGF0ZWQKd2l0aCB0aGUgYHBhaXJ3aXNlLndpbGNveC50ZXN0KClgIGZ1bmN0aW9uLiBXZSB3aWxsIHByb2NlZWQKd2l0aCB0aGUgZXhhY3QgcC12YWx1ZXMuCgpOb3cgd2Ugd2lsbCBjb21wdXRlIHRoZSBwb2ludCBlc3RpbWF0aW9uIGZvciB0aGUgcHJvYmFiaWxpc3RpYwppbmRleCAoZm9yIGVhY2ggcGFpcndpc2UgY29tcGFyaXNvbikuIE5vdGUgdGhhdCB3ZSBhbHJlYWR5CmRpZCB0aGlzIGluIHRoZSBgTm9uX3BhcmFtZXRyaWNfc2hyaW1wcy5SbWRgIGZpbGUgZm9yIGEgc2luZ2xlIGNvbXBhcmlzb24uCgpgYGB7cn0KIyMgQ291bnQgdGhlIG51bWJlciBvZiBvYnNlcnZhdGlvbnMgcGVyIGdyb3VwCm5Hcm91cCA8LSB0YWJsZShsZXR0dWNlJHRyZWF0bWVudCkKCiMjIENvbXB1dGUgdGhlIHByb2JhYmlsaXN0aWMgaW5kZXggZm9yIGVhY2ggcGFpcndpc2UgY29tYmluYXRpb24KdHJlYXRtZW50cyA8LSBsZXZlbHMobGV0dHVjZSR0cmVhdG1lbnQpCgpwcm9iSW5kIDwtIGNvbWJuKHRyZWF0bWVudHMsMixmdW5jdGlvbih4KXsKICAjIyBDb21wdXRlIHRoZSBVMSBzdGF0aXN0aWMKICBVMSA8LSB3aWxjb3gudGVzdChmcmVzaHdlaWdodH50cmVhdG1lbnQsc3Vic2V0KGxldHR1Y2UsdHJlYXRtZW50JWluJXgpKSRzdGF0aXN0aWMKICAKICAjIyBDb21wdXRlIHRoZSBwcm9iYWJpbGlzdGljIGluZGV4CiAgVTEvcHJvZChuR3JvdXBbeF0pCn0pCgojIyBsaW5rIHRoZSBwcm9iYWJpbGlzdGljIGluZGV4IHdpdGggdGhlIGNvcnJlY3QgcGFpcndpc2UgdGVzdApuYW1lcyhwcm9iSW5kKSA8LSBjb21ibihsZXZlbHMobGV0dHVjZSR0cmVhdG1lbnQpLDIscGFzdGUsY29sbGFwc2U9Il9WU18iKQpwcm9iSW5kCmBgYAoKV2UgYWdhaW4gc2VlIHRoZSBzYW1lIHdhcm5pbmcgbWVzc2FnZS4gSGVyZSwgdGhpcyBpcyBub3QgYQpwcmJsZW0sIHdlIGFyZSBub3QgaW50ZXJlc3RlZCBpbiB0aGUgcC12YWx1ZXMgKHdoaWNoIHdlIAphbHJlYWR5IGNvbXB1dGVkKSwgd2Ugb25seSBjYXJlIGFib3V0IHRoZSBwcm9iYWJpbGlzdGljIGluZGljZXMsCnRoYXQgYXJlIGNhbGN1bGF0ZWQgZnJvbSB0aGUgVTEgc3RhdGlzdGljLiBVMSBpcyBjb21wdXRlZCBhcwp0aGUgbnVtYmVyIG9mIHRpbWVzIGFuIG9ic2VydmF0aW9uIG9mIGdyb3VwIDEgaXMgbGFyZ2VyIHRoYW4gb3IKZXF1YWwgdG8gYW4gb2JzZXJ2YXRpb24gb2YgZ3JvdXAgMi4gVGhpcyBzdGF0aXN0aWMgaXMgdGh1cwpkZWZpbmVkIGV2ZW4gaW4gdGhlIGNhc2Ugb2YgdGllcy4KCiMgQ29uY2x1c2lvbgoKV2UgZmluZCBhbiBleHRyZW1seSBzaWduaWZpY2FudCAocCA8IDFlLTA1KSBvZiB0aGUgdHJlYXRtZW50Cm9uIHRoZSBmcmVzaHdlaWdodC4gT24gdGhlIDUlIGdsb2JhbCBzaWduaWZpY2FuY2UgbGV2ZWwsIHdlIG1heQpzdGF0ZSB0aGF0IHRoZSBjaGFuY2UgdGhhdCBhIHJhbmRvbSB2YWx1ZSBvZiBhdCBsZWFzdCBvbmUgdHJlYXRtZW50IApncm91cCAgaXMgbGFyZ2VyIHRoYW4gb3IgZXF1YWwgdG8gKCIkXGdlcSQiKSBhIHJhbmRvbSB2YWx1ZSBvZiBhdCAKbGVhc3Qgb25lIG90aGVyIHRyZWF0bWVudCBncm91cCBpcyBzaWduaWZpY2FudGx5IGRpZmZlcmVudCBmcm9tIDUwJS4KCkZvciB0aGUgcG9zdC1ob2MgYW5hbHlzaXM6CgotIFdlIGZpbmQgYSBoaWdobHkgc2lnbmlmaWNhbnQgZGlmZmVyZW5jZSBpbiB0aGUgZGlzdHJpYnV0aW9ucyBiZXR3ZWVuCnRoZSBjb21wb3N0IHRyZWF0bWVudCBhbmQgdGhlIGNvbnRyb2wgdHJlYXRtZW50LiBUaGUgcHJvYmFiaWxpdHkgCnRoYXQgdGhlIGZyZXNod2VpZ3RoIG9mIHBsYW50cyBncm93biBpbiBjb21wb3N0IHNvaWwgaXMgaGlnaGVyIHRoYW4Kb3IgZXF1YWwgdG8gKCIkXGdlcSQiKSB0aGUgZnJlc2h3ZWlndGggb2YgcGxhbnRzIGdyb3duIGluIGNvbnRyb2wgCnNvaWwgaXMgMTAwJS4gVGhpcyBpcyBoaWdobHkgc2lnbmlmaWNhbnRseSBkaWZmZXJlbnQgZnJvbSA1MCUKKGFkanVzdGVkIHAtdmFsdWU9MC4wMDMpLiAKCi0gV2UgZmluZCBhIGhpZ2hseSBzaWduaWZpY2FudCBkaWZmZXJlbmNlIGluIHRoZSBkaXN0cmlidXRpb25zIGJldHdlZW4KdGhlIGNvYmMgdHJlYXRtZW50IGFuZCB0aGUgY29udHJvbCB0cmVhdG1lbnQuIFRoZSBwcm9iYWJpbGl0eSAKdGhhdCB0aGUgZnJlc2h3ZWlndGggb2YgcGxhbnRzIGdyb3duIGluIGNvbXBvc3Qgc29pbCBpcyBoaWdoZXIgdGhhbgpvciBlcXVhbCB0byAoIiRcZ2VxJCIpIHRoZSBmcmVzaHdlaWd0aCBvZiBwbGFudHMgZ3Jvd24gaW4gY29udHJvbCAKc29pbCBpcyA5OCUuIFRoaXMgaXMgaGlnaGx5IHNpZ25pZmljYW50bHkgZGlmZmVyZW50IGZyb20gNTAlCihhZGp1c3RlZCBwLXZhbHVlPTAuMDA1KS4gCgotIFdlIGZpbmQgYSBoaWdobHkgc2lnbmlmaWNhbnQgZGlmZmVyZW5jZSBpbiB0aGUgZGlzdHJpYnV0aW9ucyBiZXR3ZWVuCnRoZSBjb21wb3N0IHRyZWF0bWVudCBhbmQgdGhlIHJlZm9hayB0cmVhdG1lbnQuIFRoZSBwcm9iYWJpbGl0eSAKdGhhdCB0aGUgZnJlc2h3ZWlndGggb2YgcGxhbnRzIGdyb3duIGluIGNvbXBvc3Qgc29pbCBpcyBoaWdoZXIgdGhhbgpvciBlcXVhbCB0byAoIiRcZ2VxJCIpIHRoZSBmcmVzaHdlaWd0aCBvZiBwbGFudHMgZ3Jvd24gaW4gY29udHJvbCAKc29pbCBpcyAxMDAlLiBUaGlzIGlzIGhpZ2hseSBzaWduaWZpY2FudGx5IGRpZmZlcmVudCBmcm9tIDUwJQooYWRqdXN0ZWQgcC12YWx1ZT0wLjAwMykuIAoKLSBXZSBmaW5kIGEgaGlnaGx5IHNpZ25pZmljYW50IGRpZmZlcmVuY2UgaW4gdGhlIGRpc3RyaWJ1dGlvbnMgYmV0d2Vlbgp0aGUgY29iYyB0cmVhdG1lbnQgYW5kIHRoZSByZWZvYWsgdHJlYXRtZW50LiBUaGUgcHJvYmFiaWxpdHkgCnRoYXQgdGhlIGZyZXNod2VpZ3RoIG9mIHBsYW50cyBncm93biBpbiBjb21wb3N0IHNvaWwgaXMgaGlnaGVyIHRoYW4Kb3IgZXF1YWwgdG8gKCIkXGdlcSQiKSB0aGUgZnJlc2h3ZWlndGggb2YgcGxhbnRzIGdyb3duIGluIGNvbnRyb2wgCnNvaWwgaXMgMTAwJS4gVGhpcyBpcyBoaWdobHkgc2lnbmlmaWNhbnRseSBkaWZmZXJlbnQgZnJvbSA1MCUKKGFkanVzdGVkIHAtdmFsdWU9MC4wMDMpLiAKCkZvciB0aGUgb3RoZXIgY29udHJhc3QsIHdlIGRvIG5vdCBlbm91Z2ggZmluZCBldmlkZW5jZSB0byBzdWdnZXN0CnNpZ25pZmljYW50IGRpZmZlcmVuY2VzIGJldHdlZW4gdGhlIHRyZWF0bWVudCBncm91cHMuCgpXZSBtYXkgY29uY2x1ZGUgdGhhdCBzdXBwbGVtZW50aW5nIHNvaWwgd2l0aCBjb21wb3N0IG9yIHdpdGgKYm90aCBjb21wb3N0IGFuZCBiaW9jaGFyIGhhcyBhIHBvc2l0aXZlIGVmZmVjdCBvbiB0aGUgZnJlc2h3ZWlndGgKb2YgbGV0dHVjZSBwbGFudHMuIE5vdGUgdGhhdCwgcXVhbGl0YXRpdmVseSwgdGhlc2UgY29uY2x1c2lvbiBhcmUKZXhhY3RseSB0aGUgc2FtZSBhcyB3aXRoIHRoZSBBTk9WQSBhbmFseXNpcyBvZiB0aGUgZGF0YXNldCBpbiB0aGUgCmBBTk9WQV9sZXR0dWNlX3BsYW50cy5SbWRgIGZpbGUuCgoKCgo=</div>
<div class="footer">
    <hr>
    This work is licensed under the <a href= "https://creativecommons.org/licenses/by-nc-sa/4.0">
    CC BY-NC-SA 4.0</a> licence.
</div>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeSourceEmbed("09_2_lettuce_sol.Rmd");
  window.initializeCodeFolding("show" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
